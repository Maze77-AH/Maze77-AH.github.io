/* ==========================================================================
   Nicholas Lasagna â€” Portfolio CSS
   - Premium glass + soft glow, never gimmicky
   - Strong hierarchy, spacing, and readability
   - Mobile-first refinements
   - Modal bug-proof (no "Project + X" ghost UI)
   ========================================================================== */

/* -----------------------------
   Design tokens
------------------------------ */
:root{
  /* Color system */
  --bg:#0b0f19;
  --bg-elev:#0f1629;
  --bg-elev-2:#121c33;
  --text:#e7eaf0;
  --muted:#aab2c0;
  --muted-2:#7f889a;

  --border:rgba(255,255,255,0.10);
  --border-strong:rgba(255,255,255,0.16);

  --shadow:0 10px 30px rgba(0,0,0,0.35);
  --shadow-2:0 18px 60px rgba(0,0,0,0.38);

  --accent:#7aa2ff;
  --accent-2:#a0ffda;
  --accent-3:#ffb86b;

  /* Layout */
  --radius-xs:10px;
  --radius-sm:12px;
  --radius-md:16px;
  --radius-lg:18px;
  --radius-xl:24px;

  --container:1100px;

  /* Spacing scale */
  --s-1: 6px;
  --s0: 10px;
  --s1: 12px;
  --s2: 14px;
  --s3: 16px;
  --s4: 18px;
  --s5: 22px;
  --s6: 28px;
  --s7: 34px;
  --s8: 44px;
  --s9: 64px;

  /* Motion */
  --ease: cubic-bezier(.2,.8,.2,1);
  --ease-out: cubic-bezier(.2,.9,.2,1);
  --t-fast: 120ms;
  --t-med: 180ms;
  --t-slow: 280ms;

  /* Typography */
  --font: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;

  /* Background "glow" intensity */
  --glow-1: rgba(122,162,255,0.15);
  --glow-2: rgba(160,255,218,0.10);

  /* Extra polish */
  --ring: color-mix(in srgb, var(--accent) 55%, transparent);
  --glass: color-mix(in srgb, var(--bg-elev) 86%, transparent);
  --glass-2: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  --hairline: color-mix(in srgb, var(--border) 70%, transparent);
  
  --gutter: clamp(14px, 4vw, 24px);
}

/* Light theme */
[data-theme="light"]{
  --bg:#f7f8fb;
  --bg-elev:#ffffff;
  --bg-elev-2:#f2f4fb;

  --text:#101322;
  --muted:#4e5668;
  --muted-2:#66708a;

  --border:rgba(16,19,34,0.12);
  --border-strong:rgba(16,19,34,0.18);

  --shadow:0 10px 30px rgba(16,19,34,0.12);
  --shadow-2:0 18px 60px rgba(16,19,34,0.14);

  --accent:#2d5bff;
  --accent-2:#0aa36b;
  --accent-3:#ff8b2c;

  --glow-1: rgba(45,91,255,0.12);
  --glow-2: rgba(10,163,107,0.10);

  --ring: color-mix(in srgb, var(--accent) 45%, transparent);
  --glass: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  --glass-2: color-mix(in srgb, var(--bg-elev) 98%, transparent);
  --hairline: color-mix(in srgb, var(--border) 55%, transparent);
}

/* -----------------------------
   Base / Reset-ish
------------------------------ */

html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: clip;
}
@supports not (overflow-x: clip) {
  html, body { overflow-x: hidden; }
}

* { 
  box-sizing:border-box;
  max-width: 100%;
}

html{
  scroll-behavior:smooth;
  text-rendering: geometricPrecision;
}
body{
  margin:0;
  min-height: 100dvh;
  font-family:var(--font);
  color:var(--text);
  line-height:1.55;
  letter-spacing:-0.01em;
  overflow-x:hidden;

  /* Background with tasteful "studio lighting" */
  background:
    radial-gradient(1200px 800px at 18% 10%, var(--glow-1), transparent 60%),
    radial-gradient(900px 700px at 82% 22%, var(--glow-2), transparent 58%),
    radial-gradient(520px 400px at 65% 75%, rgba(255,184,107,0.07), transparent 60%),
    var(--bg);
}

img, svg{ display:block; max-width:100%; }
a{ color:inherit; text-decoration:none; }
a:hover{ text-decoration:underline; text-underline-offset:3px; }
button, input{ font:inherit; color:inherit; }

::selection{
  background: color-mix(in srgb, var(--accent) 30%, transparent);
}

/* Subtle scrollbar polish */
@supports (scrollbar-color: auto){
  *{
    scrollbar-color: color-mix(in srgb, var(--muted-2) 45%, transparent) transparent;
    scrollbar-width: thin;
  }
}

/* Container */
.container{
  width: min(var(--container), calc(100% - (2 * var(--gutter))));
  margin: 0 auto;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Screen-reader only utility */
.sr-only{
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* Skip link */
.skip-link{
  position:absolute;
  left:-999px;
  top:12px;
  background:var(--bg-elev);
  border:1px solid var(--border);
  padding:10px 12px;
  border-radius:var(--radius-sm);
  z-index:9999;
  box-shadow:var(--shadow);
}
.skip-link:focus{
  left:12px;
  outline:none;
}

/* Focus states */
:focus-visible{
  outline:3px solid var(--ring);
  outline-offset:3px;
  border-radius:var(--radius-sm);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior:auto; }
  *, *::before, *::after{
    animation-duration:0.001ms !important;
    animation-iteration-count:1 !important;
    transition-duration:0.001ms !important;
    scroll-behavior:auto !important;
  }
}

/* -----------------------------
   Header / Navigation
------------------------------ */
.site-header,
header{
  position:sticky;
  top:0;
  z-index:100;

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  background: color-mix(in srgb, var(--bg) 74%, transparent);
  border-bottom:1px solid var(--hairline);
}

.nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 0;
  gap:16px;
  min-height: 60px;
}

/* Brand */
.brand{
  display:flex;
  flex-direction:column;
  gap:2px;
  min-width:200px;
  flex-shrink: 0;
}
.brand-name,
.brand strong{
  font-size:13px;
  letter-spacing:0.10em;
  text-transform:uppercase;
  opacity:0.98;
  white-space: nowrap;
}
.brand-subtitle,
.brand span{
  font-size:13px;
  color:var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Nav list */
.nav-list{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

/* Prevent flex/grid children from forcing overflow */
.nav, .hero-wrap, .grid, .contact-grid, .projects-controls {
  min-width: 0;
}

.card, .card-inner, .quick .row, .contact-item, .toplink-row {
  min-width: 0;
}

/* Prevent long URLs from pushing layout wider */
a, .value, .contact-item div, .toplink-note, .featured-sub, .subtitle, p {
  overflow-wrap: anywhere;
  word-break: break-word;
}

.nav-link{
  font-size:14px;
  color:var(--muted);
  padding:8px 10px;
  border-radius:var(--radius-sm);
  border:1px solid transparent;
  transition:
    background var(--t-med) var(--ease),
    border-color var(--t-med) var(--ease),
    color var(--t-med) var(--ease),
    transform var(--t-fast) var(--ease-out);
}
.nav-link:hover{
  color:var(--text);
  background: color-mix(in srgb, var(--bg-elev) 82%, transparent);
  border-color: var(--hairline);
  transform: translateY(-1px);
  text-decoration:none;
}

/* Nav actions */
.nav-actions{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-end;
  min-width:200px;
}

/* -----------------------------
   Buttons
------------------------------ */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:10px 12px;

  font-size:14px;
  font-weight:650;

  border-radius:var(--radius-sm);
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  color:var(--text);

  cursor:pointer;
  user-select:none;
  white-space:nowrap;

  transition:
    transform var(--t-fast) var(--ease-out),
    background var(--t-med) var(--ease),
    border-color var(--t-med) var(--ease),
    box-shadow var(--t-med) var(--ease),
    filter var(--t-med) var(--ease);
}

.btn:hover{
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent) 38%, var(--border));
  background: color-mix(in srgb, var(--bg-elev) 98%, transparent);
  box-shadow: 0 14px 28px rgba(0,0,0,0.16);
  text-decoration:none;
}
.btn:active{
  transform: translateY(0px);
  box-shadow: none;
}

.btn.primary{
  border-color: color-mix(in srgb, var(--accent) 44%, var(--border));
  background:
    linear-gradient(180deg,
      color-mix(in srgb, var(--accent) 26%, var(--bg-elev)),
      color-mix(in srgb, var(--bg-elev) 86%, var(--accent) 8%)
    );
}
.btn.primary:hover{
  filter: saturate(1.05) brightness(1.02);
}

.btn.ghost{
  background: transparent;
}

/* Inline icon */
.icon{
  width:16px;
  height:16px;
  display:inline-block;
  opacity:0.92;
}

/* -----------------------------
   Mobile nav (premium dropdown)
------------------------------ */
.nav-mobile{
  flex: 0 0 auto;
  position: static;
  display: none; /* Hidden by default */
}

.nav-toggle{
  padding:10px 12px;
  position: relative;
  z-index: 201;
}

.nav-mobile summary{
  list-style:none;
}
.nav-mobile summary::-webkit-details-marker{ display:none; }

/* Backdrop overlay */
.nav-mobile[open]::before{
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: 199;
  animation: fadeIn var(--t-med) var(--ease);
}

@keyframes fadeIn{
  from { opacity: 0; }
  to { opacity: 1; }
}

.nav-panel{
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  width: min(360px, calc(100vw - 32px));
  max-width: calc(100vw - 32px);
  max-height: calc(100vh - 100px);
  overflow-y: auto;

  padding: 16px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-strong);
  background: var(--bg-elev);
  box-shadow: var(--shadow-2);
  z-index: 200;
  
  animation: slideUp var(--t-med) var(--ease-out);
}

@keyframes slideUp{
  from { 
    opacity: 0;
    transform: translate(-50%, -45%);
  }
  to { 
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

.nav-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 12px;
  border-radius: var(--radius-md);
  border:1px solid transparent;
  color: var(--text);
  text-decoration:none;
  font-weight:650;
  letter-spacing:-0.01em;
  transition: background var(--t-med) var(--ease), border-color var(--t-med) var(--ease), transform var(--t-fast) var(--ease-out);
}

.nav-item:hover{
  text-decoration:none;
  background: color-mix(in srgb, var(--bg-elev-2) 70%, transparent);
  border-color: var(--border);
  transform: translateY(-1px);
}

.nav-panel-actions{
  margin-top:12px;
  padding-top:12px;
  border-top:1px solid var(--border);
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

/* -----------------------------
   Layout / Sections
------------------------------ */
main{ padding:28px 0 64px; }
section{ padding:64px 0; }

.section-title{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:16px;
  margin-bottom:18px;
}
.section-title h2{
  margin:0;
  font-size:22px;
  letter-spacing:-0.02em;
}
.section-title p{
  margin:0;
  color:var(--muted);
  font-size:14px;
  max-width:640px;
}

.grid{ display:grid; gap:16px; }

/* -----------------------------
   Card system (premium glass)
------------------------------ */
.card{
  position:relative;
  background: var(--glass);
  border:1px solid var(--hairline);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
  overflow:hidden;
  isolation:isolate;
}

/* Subtle gradient sheen on hover */
.card::after{
  content:"";
  position:absolute;
  inset:-2px;
  background: linear-gradient(120deg,
    color-mix(in srgb, var(--accent) 22%, transparent),
    color-mix(in srgb, var(--accent-2) 14%, transparent),
    transparent 55%);
  opacity:0;
  transition: opacity var(--t-med) var(--ease);
  pointer-events:none;
  z-index:0;
}
.card:hover::after{ opacity: 1; }

.card-inner{
  position:relative;
  z-index:1;
  padding:18px;
}

/* Separator */
.sep{
  border:0;
  height:1px;
  background: var(--hairline);
  margin: 14px 0;
}

/* -----------------------------
   Hero
------------------------------ */
.hero{
  padding-top:28px;
  padding-bottom:34px;
  position:relative;
  overflow: hidden;
}

/* Spotlight for hero region */
.hero::before{
  content:"";
  position:absolute;
  inset:-140px -80px auto -80px;
  height:420px;
  pointer-events:none;
  background:
    radial-gradient(700px 360px at 20% 20%, rgba(122,162,255,0.22), transparent 55%),
    radial-gradient(560px 320px at 70% 10%, rgba(160,255,218,0.16), transparent 60%);
  filter: blur(12px);
  opacity:0.95;
}

.hero-wrap{
  display:grid;
  grid-template-columns: 1.35fr 0.65fr;
  gap:18px;
  align-items:stretch;
}

.kicker{
  margin: 0 0 10px;
  font-size: 12px;
  color: var(--muted-2);
  text-transform: uppercase;
  letter-spacing: 0.14em;
}

/* Gradient accent in headline */
.accent{
  background: linear-gradient(90deg,
    color-mix(in srgb, var(--accent) 88%, var(--text)),
    color-mix(in srgb, var(--accent-2) 75%, var(--text))
  );
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

.hero h1{
  margin:0 0 10px;
  font-size: clamp(34px, 4.3vw, 52px);
  letter-spacing: -0.045em;
  line-height: 1.03;
}

.subtitle{
  margin:0 0 16px;
  color:var(--muted);
  font-size:16px;
  max-width: 62ch;
}

.hero-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:18px;
}

.pill-row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin: 18px 0 0;
}
.pill{
  font-size:13px;
  color:var(--muted);
  border:1px solid var(--hairline);
  border-radius:999px;
  padding:8px 10px;
  background: color-mix(in srgb, var(--bg-elev) 82%, transparent);
}

/* Stats row */
.stats{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
  margin-top: 18px;
}
.stat{
  border:1px solid var(--hairline);
  background: color-mix(in srgb, var(--bg-elev) 80%, transparent);
  border-radius: var(--radius-md);
  padding: 12px;
  transition: transform var(--t-fast) var(--ease-out), border-color var(--t-med) var(--ease);
}
.stat:hover{
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent) 20%, var(--hairline));
}
.stat .num{
  font-size: 14px;
  font-weight: 850;
  letter-spacing: -0.02em;
}
.stat .lbl{
  margin-top: 4px;
  font-size: 12px;
  color: var(--muted);
}

.hero-side{
  display:flex;
  flex-direction:column;
  gap:14px;
}

/* -----------------------------
   Hero headshot (NEW: premium)
------------------------------ */
.hero-photo-inner{
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* The image itself */
.headshot{
  width:100%;
  height:auto;
  border-radius: var(--radius-lg);
  border: 1px solid var(--hairline);
  background: color-mix(in srgb, var(--bg-elev) 96%, transparent);

  /* subtle lift */
  box-shadow: 0 18px 48px rgba(0,0,0,0.26);
  transform: translateZ(0);
}

/* Nice soft "halo" behind photo */
.hero-photo{
  overflow:hidden;
}
.hero-photo::before{
  content:"";
  position:absolute;
  inset:auto -80px -110px -80px;
  height:260px;
  background:
    radial-gradient(240px 200px at 30% 20%, color-mix(in srgb, var(--accent) 35%, transparent), transparent 60%),
    radial-gradient(240px 200px at 70% 20%, color-mix(in srgb, var(--accent-2) 28%, transparent), transparent 62%);
  filter: blur(18px);
  opacity:0.9;
  pointer-events:none;
  z-index:0;
}

/* Caption */
.hero-photo-caption{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.hero-photo-name{
  font-weight:850;
  letter-spacing:-0.02em;
  font-size: 15px;
}
.hero-photo-role{
  color: var(--muted);
  font-size: 13px;
}
.hero-photo-cta{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top: 8px;
}

/* Mobile-only quick links row (shown on small screens) */
.hero-mobile-links{
  display:none;
  margin-top: 14px;
  gap:10px;
  flex-wrap:wrap;
}

/* Quick facts box */
.quick{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.quick .row{
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px 12px;
  border-radius: var(--radius-md);
  border:1px solid var(--hairline);
  background: color-mix(in srgb, var(--bg-elev) 80%, transparent);
}
.quick .label{
  font-size:12px;
  color:var(--muted-2);
  text-transform:uppercase;
  letter-spacing:0.08em;
  width:110px;
  flex:0 0 auto;
}
.quick .value{
  font-size:14px;
  color:var(--text);
  overflow-wrap:anywhere;
  word-break: break-word;
  white-space: normal;
}

/* Hero side links */
.toplink-row{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}
.toplink-label{
  font-size:12px;
  color:var(--muted-2);
  text-transform:uppercase;
  letter-spacing:0.08em;
}
.toplink-value{
  font-size:14px;
  margin-top:4px;
  font-weight:700;
}
.toplink-note{
  margin-top:8px;
  color:var(--muted);
  font-size:13px;
}

/* -----------------------------
   Featured
------------------------------ */
.featured{ padding-top: 20px; }
.featured-grid{
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.featured-card{
  border-color: color-mix(in srgb, var(--accent) 18%, var(--hairline));
  box-shadow: var(--shadow-2);
}

.badge{
  display:inline-flex;
  align-items:center;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--hairline);
  background: color-mix(in srgb, var(--bg-elev) 82%, transparent);
  font-size:12px;
  color:var(--muted);
  margin-bottom:10px;
}
.badge.alt{
  border-color: color-mix(in srgb, var(--accent-2) 24%, var(--hairline));
}

.featured-top{
  display:flex;
  gap:16px;
  justify-content:space-between;
  align-items:flex-start;
}
.featured-title{
  margin:0 0 8px;
  font-size: 18px;
  letter-spacing: -0.02em;
}
.featured-sub{
  margin:0;
  color: var(--muted);
  font-size:14px;
  max-width: 72ch;
}
.featured-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:flex-end;
  min-width: 170px;
}

.featured-metrics{
  margin-top: 14px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
}
.metric{
  border:1px solid var(--hairline);
  background: color-mix(in srgb, var(--bg-elev) 80%, transparent);
  border-radius: var(--radius-md);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.metric .k{
  font-size:12px;
  color:var(--muted-2);
  text-transform:uppercase;
  letter-spacing:0.08em;
}
.metric .v{
  font-size:13px;
  color:var(--text);
}

/* -----------------------------
   Projects
------------------------------ */
.projects-controls{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  margin-bottom:14px;
}

/* Search box */
.search{
  flex:1 1 280px;
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px 12px;
  border-radius: var(--radius-md);
  border:1px solid var(--hairline);
  background: color-mix(in srgb, var(--bg-elev) 80%, transparent);
}
.search input{
  width:100%;
  border:none;
  background:transparent;
  color:var(--text);
  font-size:14px;
  outline:none;
}
.search input::placeholder{ color:var(--muted-2); }

/* Filter chips */
.chips{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:flex-end;
}
.chip{
  font-size:13px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--hairline);
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  user-select:none;

  transition:
    transform var(--t-fast) var(--ease-out),
    background var(--t-med) var(--ease),
    border-color var(--t-med) var(--ease),
    color var(--t-med) var(--ease);
}
.chip:hover{
  transform: translateY(-1px);
  color:var(--text);
  border-color: color-mix(in srgb, var(--accent) 35%, var(--hairline));
  background: color-mix(in srgb, var(--bg-elev) 84%, transparent);
}
.chip[aria-pressed="true"]{
  color:var(--text);
  border-color: color-mix(in srgb, var(--accent) 60%, var(--hairline));
  background:
    linear-gradient(180deg,
      color-mix(in srgb, var(--accent) 18%, var(--bg-elev)),
      color-mix(in srgb, var(--bg-elev) 86%, var(--accent) 6%)
    );
}

/* Grid */
.projects-grid{ grid-template-columns: repeat(12, 1fr); }
.project{
  grid-column: span 6;
  transition:
    transform var(--t-med) var(--ease),
    border-color var(--t-med) var(--ease),
    box-shadow var(--t-med) var(--ease);
}
.project:hover{
  transform: translateY(-3px);
  border-color: color-mix(in srgb, var(--accent) 22%, var(--hairline));
  box-shadow
